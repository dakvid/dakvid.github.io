<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="date" content="2016-08-11" />

<title>Unfamiliar Maps</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/htmlwidgets-0.7/htmlwidgets.js"></script>
<link href="site_libs/leaflet-0.7.3/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-0.7.3/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="site_libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="site_libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="site_libs/leaflet-binding-1.0.1.9004/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.0.27/leaflet-providers.js"></script>
<script src="site_libs/leaflet-providers-plugin-1.0.1.9004/leaflet-providers-plugin.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">David's AdVentures In Data</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-newspaper-o"></span>
     
    Posts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="2016-08-unfamiliar-maps.html">Unfamiliar Maps</a>
    </li>
    <li>
      <a href="2016-08-birthday-eve.html">Birthday Eve</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question-circle"></span>
     
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">
        <span class="fa fa-question"></span>
         
        About Site
      </a>
    </li>
    <li>
      <a href="https://twitter.com/dakvid">
        <span class="fa fa-twitter"></span>
         
        Twitter
      </a>
    </li>
    <li>
      <a href="https://nz.linkedin.com/in/dfriggens">
        <span class="fa fa-linkedin"></span>
         
        LinkedIn
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Unfamiliar Maps</h1>
<h4 class="date"><em>11 August 2016</em></h4>

</div>


<p>At least 3 people have booked flights to Sydney, Nova Scotia (population 30,000) intending to holiday in New South Wales (two orders of magnitude larger). There are a number of cases like this of towns and cities with larger and more well known doppelgangers. I thought it would be interesting to have a map that labelled the familiar names in the unfamiliar locations.</p>
<p>This is fairly easy to do in R given the data that comes with the <code>maps</code> package. But bear in mind that the data is neither 100% accurate nor complete. Also, I’ve made a semi-manual selection of what to include, based on my interpretations of what is interesting and well known. Feel free to make your own version, based on your knowledge and familiarity of the globe.</p>
<pre class="r"><code>library(maps)
library(leaflet)
library(dplyr)
data(&quot;world.cities&quot;)

# For pairs, just take the smaller of the two.
doubles = c(&quot;Adelaide&quot;, &quot;Barcelona&quot;, &quot;Belfast&quot;, &quot;Birmingham&quot;, &quot;Bombay&quot;, &quot;Boston&quot;, &quot;Bradford&quot;, &quot;Bristol&quot;, &quot;Brussels&quot;, &quot;Christchurch&quot;, &quot;Colombo&quot;, &quot;Dallas&quot;, &quot;Corpus Christi&quot;, &quot;Delhi&quot;, &quot;Doha&quot;, &quot;Dresden&quot;, &quot;Dublin&quot;, &quot;Essen&quot;, &quot;Frankfurt&quot;, &quot;Fresno&quot;, &quot;Hanover&quot;, &quot;Houston&quot;, &quot;Jacksonville&quot;, &quot;Kabul&quot;, &quot;Los Angeles&quot;, &quot;Madrid&quot;, &quot;Malaga&quot;, &quot;Manchester&quot;, &quot;Melbourne&quot;, &quot;Milan&quot;, &quot;Palermo&quot;, &quot;Paris&quot;, &quot;Reading&quot;, &quot;Saint Petersburg&quot;, &quot;Sendai&quot;, &quot;Sevilla&quot;, &quot;Southampton&quot;, &quot;Sydney&quot;, &quot;Tripoli&quot;, &quot;Utrecht&quot;, &quot;Vancouver&quot;)
doppel &lt;- 
  data_frame(name = doubles) %&gt;% 
  inner_join(world.cities) %&gt;% 
  group_by(name) %&gt;% 
  summarise(pop = min(pop)) %&gt;% 
  inner_join(world.cities)</code></pre>
<p>We can add labels to the map using the latest version of the <code>leaflet</code> package. I had to install from Github - the CRAN version (1.0.1) doesn’t support this.</p>
<pre class="r"><code>leaflet(doppel) %&gt;% 
  #addTiles() %&gt;% 
  addProviderTiles(&quot;Acetate.terrain&quot;) %&gt;% 
  addMarkers(label = ~name,
             labelOptions = labelOptions(noHide = T))</code></pre>
<div id="htmlwidget-d6d66c418b1ee83e2330" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-d6d66c418b1ee83e2330">{"x":{"calls":[{"method":"addProviderTiles","args":["Acetate.terrain",null,null,{"errorTileUrl":"","noWrap":false,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false}]},{"method":"addMarkers","args":[[-32.7,10.13,-25.68,33.53,-37.17,52.99,44.12,41.68,43.75,50.73,-25.29,-24.03,50.66,42.85,29.32,42.58,37.72,51.47,52.34,5.16,44.15,54.4,34.76,32.87,-37.46,4.74,6.72,42.98,28.11,1.35,2.89,43.2,40.34,27.76,31.82,4.28,44.5,46.15,37.51,-27.66,45.63],[26.29,-64.72,30.03,-86.8,174.98,-0.02,-79.56,-72.94,-81.25,-1.76,-49.24,-54.83,-120.46,-80.5,47.82,-82.17,-121.91,4.47,14.53,-75.04,-81.03,-126.65,-77.4,35.22,-72.36,-74.27,-72.74,-71.44,-80.64,-75.51,-75.44,-80.38,-75.93,-82.64,130.29,-75.93,-81.37,-60.17,22.38,30.32,-122.64],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,["Adelaide","Barcelona","Belfast","Birmingham","Bombay","Boston","Bradford","Bristol","Brussels","Christchurch","Colombo","Corpus Christi","Dallas","Delhi","Doha","Dresden","Dublin","Essen","Frankfurt","Fresno","Hanover","Houston","Jacksonville","Kabul","Los Angeles","Madrid","Malaga","Manchester","Melbourne","Milan","Palermo","Paris","Reading","Saint Petersburg","Sendai","Sevilla","Southampton","Sydney","Tripoli","Utrecht","Vancouver"],{"clickable":false,"noHide":true,"direction":"right","opacity":1,"offset":[12,-15],"zoomAnimation":true,"className":""}]}],"limits":{"lat":[-37.46,54.4],"lng":[-126.65,174.98]}},"evals":[],"jsHooks":[]}</script>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
